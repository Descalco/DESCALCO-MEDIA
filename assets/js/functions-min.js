// @codekit-prepend "/vendor/hammer-2.0.8.js";
$(window).on("load",function(){var e=!0,t=null;$(document).on("mousewheel DOMMouseScroll",function(n){if(!$(".outer-nav").hasClass("is-vis")){n.preventDefault();var o=n.originalEvent.wheelDelta?-n.originalEvent.wheelDelta:20*n.originalEvent.detail;o>50&&e?(e=!1,clearTimeout(t),t=setTimeout(function(){e=!0},800),r(1)):o<-50&&e&&(e=!1,clearTimeout(t),t=setTimeout(function(){e=!0},800),r(-1))}}),$(".side-nav li, .outer-nav li").click(function(){if(!$(this).hasClass("is-active")){var e=$(this),t=e.parent().find(".is-active"),n=e.parent().children().index(t),o=e.parent().children().index(e),a=$(this).parent().children().length-1;c(o),u(n,o,a)}}),$(".cta").click(function(){var e=$(".side-nav").find(".is-active"),t=$(".side-nav").children().index(e),n=$(".side-nav").children().length-1;c(n),u(t,n,n)});var n=document.getElementById("viewport"),o=new Hammer(n);o.get("swipe").set({direction:Hammer.DIRECTION_VERTICAL}),o.on("swipeup swipedown",function(e){r(e)}),$(document).keyup(function(e){$(".outer-nav").hasClass("is-vis")||(e.preventDefault(),r(e))});function r(e){var t=$(".side-nav").find(".is-active"),n=$(".side-nav").children().index(t),o=$(".side-nav").children().length-1,a=0;("swipeup"===e.type||40===e.keyCode||e>0)&&n!==o?a=n+1:("swipedown"===e.type||38===e.keyCode||e<0)&&(a=0!==n?n-1:o),c(a),u(n,a,o)}function c(e){$(".side-nav, .outer-nav").children().removeClass("is-active"),$(".side-nav").children().eq(e).addClass("is-active"),$(".outer-nav").children().eq(e).addClass("is-active")}function u(e,t,n){$(".main-content").children().removeClass("section--is-active"),$(".main-content").children().eq(t).addClass("section--is-active"),$(".main-content .section").children().removeClass("section--next section--prev"),e===n&&0===t||0===e&&t===n?$(".main-content .section").children().removeClass("section--next section--prev"):e<t?$(".main-content").children().eq(e).children().addClass("section--next"):$(".main-content").children().eq(e).children().addClass("section--prev"),0!==t&&t!==n?$(".header--cta").addClass("is-active"):$(".header--cta").removeClass("is-active")}function a(){$(".header--nav-toggle").click(function(){$(".perspective").addClass("perspective--modalview"),setTimeout(function(){$(".perspective").addClass("effect-rotate-left--animate")},25),$(".outer-nav, .outer-nav li, .outer-nav--return").addClass("is-vis")}),$(".outer-nav--return, .outer-nav li").click(function(){$(".perspective").removeClass("effect-rotate-left--animate"),setTimeout(function(){$(".perspective").removeClass("perspective--modalview")},400),$(".outer-nav, .outer-nav li, .outer-nav--return").removeClass("is-vis")})}function i(){const e=$(".slider"),t=e.find(".slider--item"),n=$(".slider--prev, .slider--next");t.css("opacity",0).removeClass("slider--item-left slider--item-center slider--item-right"),setTimeout(function(){!function(){const e=t.length;1===e?t.eq(0).addClass("slider--item-center"):2===e?(t.eq(0).addClass("slider--item-left"),t.eq(1).addClass("slider--item-center")):(t.eq(0).addClass("slider--item-left"),t.eq(1).addClass("slider--item-center"),t.eq(2).addClass("slider--item-right"))}(),t.animate({opacity:1},300)},100),n.on("click",function(){const n=$(this),o=t.length,r=t.index(e.find(".slider--item-left")),c=t.index(e.find(".slider--item-center")),u=t.index(e.find(".slider--item-right"));t.removeClass("slider--item-left slider--item-center slider--item-right");let a,i,l;n.hasClass("slider--prev")?(a=(r-1+o)%o,i=r,l=c):(a=c,i=u,l=(u+1)%o),t.eq(a).addClass("slider--item-left"),t.eq(i).addClass("slider--item-center"),t.eq(l).addClass("slider--item-right")})}function l(){}a(),i(),l()});
